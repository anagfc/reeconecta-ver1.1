<p style="text-align: center; padding-bottom: 10px;">Confirme os dados abaixo para alterar sua senha.</p>

<form id="formRecuperacaoDocEmail" onsubmit="enviarDocEmail(); return false;">
    <div class="form-group mb-3">
        <label>CPF ou CNPJ cadastrado:</label>
        <input type="text" id="documento" name="DocumentoRecuperacao" class="form-control campo-login" />
    </div>

    <div class="form-group mb-3">
        <label class="mt-3">Email cadastrado:</label>
        <input type="email" name="EmailRecuperacao" class="form-control campo-login" />
    </div>

    @if (ViewBag.Erro != null)
    {
        <p class="text-danger mt-2">@ViewBag.Erro</p>
    }

    <button type="button" class="btn btn-entrar mt-3" onclick="enviarDocEmail()">Continuar</button>
</form>

<script>
    const documentoInserido = document.getElementById("documento");
    documentoInserido.addEventListener("input", function(event) {
        let doc = event.target.value.replace(/\D/g, "");

        if (doc.length <= 11) {
            if (doc.length > 9)
                doc = doc.replace(/^(\d{3})(\d{3})(\d{3})(\d{0,2})/, "$1.$2.$3-$4");
            else if (doc.length > 6)
                doc = doc.replace(/^(\d{3})(\d{3})(\d{0,3})/, "$1.$2.$3");
            else if (doc.length > 3)
                doc = doc.replace(/^(\d{3})(\d{0,3})/, "$1.$2");
        } else {
            if (doc.length > 14) doc = doc.slice(0, 14);

            if (doc.length > 12)
                doc = doc.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{0,2})/, "$1.$2.$3/$4-$5");
            else if (doc.length > 8)
                doc = doc.replace(/^(\d{2})(\d{3})(\d{3})(\d{0,4})/, "$1.$2.$3/$4");
            else if (doc.length > 5)
                doc = doc.replace(/^(\d{2})(\d{3})(\d{0,3})/, "$1.$2.$3");
            else if (doc.length > 2)
                doc = doc.replace(/^(\d{2})(\d{0,3})/, "$1.$2");
        }

        event.target.value = doc;
    });
</script>

